.board-container {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    height: 100%;
}

.board {
    position: relative;
    background: linear-gradient(145deg, #f5e6d3 0%, #eed9c4 50%, #e8d0b8 100%);
    border-radius: 10px;
    box-shadow:
        0 8px 32px rgba(0, 0, 0, 0.25),
        inset 0 0 30px rgba(139, 90, 43, 0.08);
    border: 6px solid #c49a6c;
}

/* Fixed pixel grid for accurate animation - scaled via CSS transform */
.board-grid {
    --cell-size: 52px;
    --board-padding: 16px;

    position: relative;
    display: grid;
    grid-template-columns: repeat(9, var(--cell-size));
    grid-template-rows: repeat(10, var(--cell-size));
    padding: var(--board-padding);
    gap: 0;
}

/* Scale board to fit viewport */
@media (max-height: 700px) {
    .board {
        transform: scale(0.85);
        transform-origin: center;
    }
}

@media (max-height: 600px) {
    .board {
        transform: scale(0.75);
        transform-origin: center;
    }
}

@media (max-width: 600px) {
    .board-grid {
        --cell-size: 42px;
        --board-padding: 12px;
    }
}

@media (max-width: 450px) {
    .board-grid {
        --cell-size: 36px;
        --board-padding: 10px;
    }
}

.cell {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    z-index: 2;
}

/* Valid move indicator - small orange dot */
.move-indicator {
    width: 10px;
    height: 10px;
    background: #e65100;
    border-radius: 50%;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
    z-index: 5;
}

/* Last move - FROM position */
.cell.last-move-from::before {
    content: '';
    position: absolute;
    width: 10px;
    height: 10px;
    background: #78e479;
    border-radius: 50%;
    z-index: 6;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

/* Last move - TO position */
.cell.last-move-to::before {
    content: '';
    position: absolute;
    width: 10px;
    height: 10px;
    background: #78e479;
    border-radius: 50%;
    z-index: 6;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

/* Orange ring around the piece that just moved */
.cell.last-move-to .piece {
    box-shadow:
        0 0 0 3px #e65100,
        0 3px 8px rgba(0, 0, 0, 0.4);
}

/* Capture indicator */
.capture-indicator {
    position: absolute;
    width: 100%;
    height: 100%;
    border: 3px solid #e65100;
    border-radius: 50%;
    box-sizing: border-box;
    pointer-events: none;
    z-index: 4;
}

/* Board lines SVG */
.board-lines {
    position: absolute;
    top: var(--board-padding, 16px);
    left: var(--board-padding, 16px);
    right: var(--board-padding, 16px);
    bottom: var(--board-padding, 16px);
    z-index: 1;
    pointer-events: none;
}

/* River text */
.river-text {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    font-family: "KaiTi", "楷体", "STKaiti", "SimSun", serif;
    font-size: 18px;
    color: #8b6914;
    font-weight: bold;
    letter-spacing: 0.4em;
    z-index: 3;
    pointer-events: none;
    white-space: nowrap;
}

.river-text-left {
    left: 5%;
}

.river-text-right {
    right: 5%;
}

/* Animating piece overlay */
.animating-piece {
    position: absolute;
    z-index: 100;
    pointer-events: none;
}

.animating-piece .piece {
    box-shadow:
        0 0 0 3px #e65100,
        0 8px 20px rgba(0, 0, 0, 0.5);
}